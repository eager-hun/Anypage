{# See https://stackoverflow.com/questions/22968427/check-if-string-variable-is-null-or-empty-or-full-of-white-spaces #}

{% macro form_widget_attributes(attributes_array) %}
    {% set attribute_whitelist = [
        'id',
        'class',
        'href',
        'name',
        'value',
        'type',
        'placeholder',
        'required',
        'disabled',
        'readonly',
        'checked',
    ] %}

    {% for key, value in attributes_array %}
        {% if key is numeric and value in attribute_whitelist %}
            {{ value }}
        {% elseif key in attribute_whitelist and value | length %}
            {{ key }}="{{ value }}"
        {% endif %}
    {% endfor %}
{% endmacro %}